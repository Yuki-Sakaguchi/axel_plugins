$(function(){var n="js-open";$(".js-accordion-title").each(function(t,e){var o=$(e),s=o.next(".js-accordion-body");o.hasClass(n)&&s.show(),o.on("click",function(){o.toggleClass(n),s.slideToggle()})})});var View=function(){function t(t,e){var o=this;if(this._options={offset:"0",test:null,scrollEnd:!1,addClassName:"active",callback:null},"string"==typeof t)this._elTarget=document.querySelectorAll(t);else{if("object"!=typeof t)throw new Error("対象が取得できませんでした。");this._elTarget=t}e&&("object"==typeof e?Object.keys(e).forEach(function(t){o._options[t]=e[t]}):"string"==typeof e?this._options.addClassName=e:"function"==typeof e?this._options.callback=e:console.warn(this.constructor.name+" [warn]: 第２引数が無視されました。第２引数にはクラス名、コールバック関数、またはそれらを含むオプションを設定してください。")),window.addEventListener("load",function(){o.execute()})}return t.prototype.execute=function(){this._options.test&&this.createTest();for(var t=0,e=this._elTarget.length;t<e;t++){var o={element:this._elTarget[t],isSuccess:!1,eventPosition:0};this.setEvent(o)}},t.prototype.createTest=function(){var t=document.createElement("div");t.textContent="Event line",t.style.position="fixed",t.style.width="100%",t.style.borderBottom="1px solid "+this._options.test,t.style.fontSize="10px",t.style.letterSpacing="3px",t.style.lineHeight="1",t.style.paddingLeft="3px",t.style.color=this._options.test,t.style.left="0",t.style.zIndex="99999999",-1!=this._options.offset.indexOf("%")?t.style.top=100-parseInt(this._options.offset.replace("%",""))+"%":-1!=this._options.offset.indexOf("px")?t.style.bottom=this._options.offset:t.style.bottom=this._options.offset+"px",document.body.appendChild(t)},t.prototype.setEvent=function(t){this.setEventPoition(t),this.fire(t),this.resizeHandle(t),this.scrollHandle(t)},t.prototype.setEventPoition=function(t){if(-1!=this._options.offset.indexOf("%")){var e=parseInt(this._options.offset.replace("%","")),o=window.innerHeight*(e/100);t.eventPosition=t.element.getBoundingClientRect().top-window.innerHeight+o+window.pageYOffset}else-1!=this._options.offset.indexOf("px")?t.eventPosition=t.element.getBoundingClientRect().top-window.innerHeight+window.pageYOffset+parseInt(this._options.offset.replace("px","")):t.eventPosition=t.element.getBoundingClientRect().top-window.innerHeight+window.pageYOffset+parseInt(this._options.offset)},t.prototype.fire=function(t){t.eventPosition<window.pageYOffset&&(this.addClass(t.element),"function"==typeof this._options.callback&&this._options.callback(t.element),t.isSuccess=!0),this._options.scrollEnd&&document.body.clientHeight-window.innerHeight<window.pageYOffset&&(t.isSuccess||(this.addClass(t.element),"function"==typeof this._options.callback&&this._options.callback(t.element),t.isSuccess=!0))},t.prototype.resizeHandle=function(t){var e,o=this;window.addEventListener("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){o.setEventPoition(t)},100)})},t.prototype.scrollHandle=function(t){var e=this;window.addEventListener("scroll",function(){if(t.isSuccess)return!1;e.fire(t)})},t.prototype.addClass=function(t){if(!this._options.addClassName)return!1;t.className?t.className+=" "+this._options.addClassName:t.className+=this._options.addClassName},t}();